# LAN-transport v1.2

局域网文件传输工具，支持在同一局域网内的设备之间快速传输文件。

## 功能特点

- 支持拖拽上传文件
- 自动生成二维码，方便移动设备访问
- 实时显示上传进度、速度和剩余时间
- 支持系统托盘操作
- 响应式设计，支持桌面端和移动端
- 完全本地化运行，无需连接互联网
- 支持5种主题配色切换，自动保存主题设置
- 支持文件图标自动识别显示
- 支持图片文件预览功能
- 支持实时文本同步功能，多设备文本实时共享

## 使用说明

1. 运行程序后，会自动打开默认浏览器并显示传输页面
2. 可以通过以下方式上传文件：
   - 点击"选择文件"按钮
   - 将文件拖拽到上传区域
3. 移动设备可以通过扫描二维码访问传输页面
4. 文件上传完成后，其他设备可以点击"点击下载"进行下载
5. 可以通过系统托盘图标进行以下操作：
   - 打开主页
   - 退出程序

## 开发技术

- 后端：
  - Go + Gin框架啊
  - gorilla/websocket（用于实时文本同步）
- 前端：
  - 原生 JavaScript + CSS
  - WebSocket（用于实时通信）
- 系统托盘：systray
- 资源嵌入：Go 1.16+ embed

## 更新日志

### v1.3 (2024-01-28)
- 新增功能：
  - 添加实时文本同步功能
  - 支持多设备文本实时共享
  - WebSocket实时通信，自动重连机制
- 优化改进：
  - 资源完全本地化：
    * 移除所有外部依赖
    * 内置所需的JavaScript库
    * 本地化图标和样式资源
    * 支持完全离线运行

### v1.2 (2024-01-27)
- 新增5种精心设计的主题配色：冰河蓝、薄荷绿、神秘灰、典雅紫、清新粉
- 主题设置自动保存到本地
- 新增文件图标自动识别显示
- 新增图片文件预览功能
- 优化了图片预览界面，添加毛玻璃特效
- 优化了移动端下载体验
- 修复了部分已知问题

### v1.1 (2024-01-18)
- 新增功能：
  - 添加文件上传进度显示
  - 添加上传速度实时显示
  - 添加剩余时间估算显示
  - 优化移动端界面布局
- 优化改进：
  - 优化网络适配器选择逻辑，优先使用 WLAN 接口
  - 修复了可能出现 169.254.x.x 地址的问题
  - 优化代码结构
  - 改进响应式布局，提升移动端使用体验

### v1.0 (2024-01-15)
- 初始版本发布
- 核心功能：
  - 支持局域网文件传输
  - 系统托盘常驻
  - Web 界面操作
  - 拖拽上传文件
  - 二维码扫描访问
- 基础特性：
  - 自动打开浏览器
  - 支持多文件上传
  - 文件大小无限制
  - 自动清理上传文件

## 开发环境要求

- Go 1.16 或更高版本
- Windows 操作系统（目前仅支持 Windows）
- goversioninfo（用于生成 Windows 资源文件）

## 构建说明

1. 安装依赖工具：
```bash
go install github.com/josephspurrier/goversioninfo/cmd/goversioninfo@latest
```

2. 生成资源文件：
```bash
go generate
```

3. 构建程序：
```bash
go build -ldflags "-H windowsgui" -o build/LAN-transport.exe
```

## 目录结构

```
.
├── assets/          # 资源文件（图标等）
├── static/         # 静态文件（前端资源）
│   ├── index.html # 主页面
│   ├── style.css  # 样式文件
│   └── script.js  # JavaScript 脚本
├── build/         # 构建输出目录
├── logs/          # 日志文件目录
└── uploads/       # 默认上传文件目录
```

## 主要文件说明

- `main.go`: 主程序入口，包含 HTTP 服务器和主要业务逻辑
- `static_files.go`: 静态文件嵌入和处理
- `icon.go`: 系统图标资源处理
- `winres.go`: Windows 资源文件生成配置

## 注意事项

- 确保设备在同一局域网内
- 上传文件大小无限制
- 支持同时上传多个文件
- 程序关闭后，已上传的文件将被清除
- 日志文件保存在 logs 目录下
- 首次运行时会自动打开浏览器访问主界面

## 开发计划

- [ ] 支持更多操作系统（Linux、macOS）
- [ ] 支持文件夹上传
- [ ] 添加传输速度限制功能
- [ ] 支持设置保存目录
- [ ] 添加暗色主题

## 作者

- **作者：** Jason Mars
- **微信：** Break2029